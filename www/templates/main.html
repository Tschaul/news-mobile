<check-presence></check-presence>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span4"></div>
        <div class="span4">

            <div class='header'>
                <ul class="nav nav-pills menu">
                    <li><a href ng-click="getAll(0)"><i
                            class='icon-certificate icon-white'></i></a></li>
                    <li><a href ng-click="getStarred(0)"><i class='icon-star icon-white'></i></a></li>
                    <li><a href ng-click="getFolders()"><i class='icon-folder-open icon-white'></i></a></li>
                    <li><a href ng-click="getFeeds()"><i class='icon-list icon-white'></i></a></li>
                    <li class="pull-right"><a href ng-click="logOut()"><i class="icon-off icon-white"></i></a></li>
                </ul>
            </div>

            <!--Handling the header caption-->
            <div ng-switch="action" id="caption"
                 class="caption">
                <span ng-switch-when="All">{{ 'all.feeds.articles' |
                    translator }}</span>
                <span ng-switch-when="Starred">{{ 'all.starred.articles' |
                    translator}}</span>
                <span ng-switch-when="Folders">{{ 'all.folders'
                    | translator }}</span>
                <span ng-switch-when="Feeds">{{ 'all.feeds' |
                    translator}}</span>
                <span ng-switch-when="FolderItems">{{currentFolderName}}
                    {{ 'articles' | translator}}</span>
                <span ng-switch-when="FeedItems">{{currentFeedTitle}}
                    {{ 'articles' | translator}}</span>
            </div>

            <div ng-switch="view">
                <div class="accordion" id="accordion2"
                     class="nav nav-pills nav-stacked"
                     ng-switch-when="All">
                    <div class="accordion-group" ng-repeat="item in data.items">
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapse{{item.id}}">
                                <span>
                                    <i ng-show="item.unread" class="icon-file"></i>
                                    <i ng-hide="item.unread" class="icon-check"></i>
                                    {{item.title}}
                                </span>
                            </a>
                        </div>
                        <div id="collapse{{item.id}}" class="accordion-body collapse">
                            <div class="accordion-inner">
                                <div class="accordion-heading">
                                    <!--<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapse{{item.id}}1"></a>-->
                                    <p class="bodybox" ng-bind-html-unsafe="item.body"></p>
                                </div>
                            </div>
                            <div class="btn-group pull-right">

                                <button ng-show="!item.unread" class="btn"><i class="icon-eye-close icon-white"></i>Unread</button>
                                <button ng-show="item.unread" class="btn"><i class="icon-eye-open icon-white"></i>Read</button>
                                <button ng-show="!item.starred" class="btn"><i class="icon-star icon-white"></i>Star</button>
                                <button ng-show="item.starred" class="btn"><i class="icon-star icon-white"></i>Unstar</button>
                                <button class="btn"><i class="icon-ban-circle icon-white"></i>Delete</button>
                            </div>
                        </div>
                    </div>
                    <div class="showmore" ng-show="moreArticles">
                        <button class="btn btn-large btn-block" ng-click="getMoreItems(view)"><i class="icon-arrow-down icon-white"></i></button>
                        <!--<a href ng-click="getMoreItems(view)">
                            <span><i class="icon-arrow-down"></i></span>
                        </a>-->
                    </div>
                </div>

                <!--
                                    <ul class="nav nav-pills nav-stacked" ng-show="view == 'Starred' || view == 'All'">


                                                    <li ng-repeat="item in data.items">
                                                        <strong>{{item.title | short}}</strong><br/>
                                                        <!--<p ng-bind-html-unsafe="item.body"></p><!---->
                <!--                </li>
                                    <li ng-show="data.items.length == 20">

                                        <a href ng-click="getMoreItems(view)">
                                            <span>{{ 'Show more' | trans }}</span>
                                        </a>
                                    </li>
                                </ul>
                -->

                <ul class="nav nav-pills nav-stacked" ng-switch-when="Folders">
                    <li ng-repeat="folder in data.folders" >
                        <a href
                           ng-click="getFolderItems(folder.id,0,folder.name)">
                            <span><i class='icon-folder-open'></i>{{folder.name}}</span>
                        </a>
                    </li>
                </ul>

                <ul class="nav nav-pills nav-stacked" ng-switch-when="Feeds">
                    <li ng-repeat="feed in data.feeds">

                        <a href ng-click="getFeedItems(feed.id,0,feed.title)">
                            <img src="{{feed.faviconLink}}" width="32"
                                  height="32">
                            <span>{{feed.title}}</span>
                            <span class="badge" ng-bind="feed.unreadCount"></span>
                        </a>

                    </li>
                </ul>
            </div>

            <div class="footer">
                ownCloud News Web app
            </div>

            <div class="span4">
            </div>
        </div>
    </div>
</div>



